'use strict';

var _templates = require('./assemblers/templates.js');

var _templates2 = _interopRequireDefault(_templates);

var _sass = require('./assemblers/sass.js');

var _sass2 = _interopRequireDefault(_sass);

var _assets = require('./assemblers/assets.js');

var _assets2 = _interopRequireDefault(_assets);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _nodeModulesResolve = require('node-modules-resolve');

var _nodeModulesResolve2 = _interopRequireDefault(_nodeModulesResolve);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = function (templatesDir, outputDir) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

    return Promise.all([(0, _templates2.default)(templatesDir, outputDir, options), (0, _sass2.default)(_path2.default.resolve(__dirname, '../sass/cl.scss'), _path2.default.join(outputDir, 'assets_/css/cl.css')), (0, _assets2.default)(_path2.default.resolve(__dirname, '../assets'), _path2.default.join(outputDir, 'assets_/assets')), (0, _assets2.default)(_path2.default.resolve((0, _nodeModulesResolve2.default)('jquery'), 'dist'), _path2.default.join(outputDir, 'assets_/jquery')), (0, _assets2.default)(_path2.default.resolve((0, _nodeModulesResolve2.default)('bootstrap-sass-namespace'), 'assets/javascripts/bootstrap'), _path2.default.join(outputDir, 'assets_/bootstrap-namespace')), (0, _assets2.default)(_path2.default.resolve((0, _nodeModulesResolve2.default)('smartmenus-namespace'), 'dist'), _path2.default.join(outputDir, 'assets_/smartmenus-namespace')), (0, _assets2.default)(_path2.default.resolve((0, _nodeModulesResolve2.default)('font-awesome'), 'fonts'), _path2.default.join(outputDir, 'assets_/fonts'))]);
};